var qrcode=function(){function y(g,h){if("undefined"==typeof g.length)throw Error(g.length+"/"+h);var a=function(){for(var b=0;b<g.length&&0==g[b];)b+=1;for(var c=Array(g.length-b+h),d=0;d<g.length-b;d+=1)c[d]=g[d+b];return c}(),b={getAt:function(b){return a[b]},getLength:function(){return a.length},multiply:function(f){for(var c=Array(b.getLength()+f.getLength()-1),d=0;d<b.getLength();d+=1)for(var a=0;a<f.getLength();a+=1)c[d+a]^=r.gexp(r.glog(b.getAt(d))+r.glog(f.getAt(a)));return y(c,0)},mod:function(f){if(0>
b.getLength()-f.getLength())return b;for(var c=r.glog(b.getAt(0))-r.glog(f.getAt(0)),d=Array(b.getLength()),a=0;a<b.getLength();a+=1)d[a]=b.getAt(a);for(a=0;a<f.getLength();a+=1)d[a]^=r.gexp(r.glog(f.getAt(a))+c);return y(d,0).mod(f)}};return b}var B=function(g,h){var a=t[h],b=null,f=0,c=null,d=[],e={},l=function(e,h){for(var m=f=4*g+17,k=Array(m),n=0;n<m;n+=1){k[n]=Array(m);for(var l=0;l<m;l+=1)k[n][l]=null}b=k;A(0,0);A(f-7,0);A(0,f-7);m=z.getPatternPosition(g);for(k=0;k<m.length;k+=1)for(n=0;n<
m.length;n+=1){var l=m[k],x=m[n];if(null==b[l][x])for(var v=-2;2>=v;v+=1)for(var p=-2;2>=p;p+=1)b[l+v][x+p]=-2==v||2==v||-2==p||2==p||0==v&&0==p?!0:!1}for(m=8;m<f-8;m+=1)null==b[m][6]&&(b[m][6]=0==m%2);for(m=8;m<f-8;m+=1)null==b[6][m]&&(b[6][m]=0==m%2);m=z.getBCHTypeInfo(a<<3|h);for(k=0;15>k;k+=1)n=!e&&1==(m>>k&1),6>k?b[k][8]=n:8>k?b[k+1][8]=n:b[f-15+k][8]=n;for(k=0;15>k;k+=1)n=!e&&1==(m>>k&1),8>k?b[8][f-k-1]=n:9>k?b[8][15-k-1+1]=n:b[8][15-k-1]=n;b[f-8][8]=!e;if(7<=g){m=z.getBCHTypeNumber(g);for(k=
0;18>k;k+=1)n=!e&&1==(m>>k&1),b[Math.floor(k/3)][k%3+f-8-3]=n;for(k=0;18>k;k+=1)n=!e&&1==(m>>k&1),b[k%3+f-8-3][Math.floor(k/3)]=n}if(null==c){m=E.getRSBlocks(g,a);k=F();for(n=0;n<d.length;n+=1)l=d[n],k.put(l.getMode(),4),k.put(l.getLength(),z.getLengthInBits(l.getMode(),g)),l.write(k);for(n=l=0;n<m.length;n+=1)l+=m[n].dataCount;if(k.getLengthInBits()>8*l)throw Error("code length overflow. ("+k.getLengthInBits()+">"+8*l+")");for(k.getLengthInBits()+4<=8*l&&k.put(0,4);0!=k.getLengthInBits()%8;)k.putBit(!1);
for(;!(k.getLengthInBits()>=8*l);){k.put(236,8);if(k.getLengthInBits()>=8*l)break;k.put(17,8)}for(var w=0,l=n=0,x=Array(m.length),v=Array(m.length),p=0;p<m.length;p+=1){var r=m[p].dataCount,t=m[p].totalCount-r,n=Math.max(n,r),l=Math.max(l,t);x[p]=Array(r);for(var q=0;q<x[p].length;q+=1)x[p][q]=255&k.getBuffer()[q+w];w+=r;q=z.getErrorCorrectPolynomial(t);r=y(x[p],q.getLength()-1).mod(q);v[p]=Array(q.getLength()-1);for(q=0;q<v[p].length;q+=1)t=q+r.getLength()-v[p].length,v[p][q]=0<=t?r.getAt(t):0}for(q=
k=0;q<m.length;q+=1)k+=m[q].totalCount;k=Array(k);for(q=w=0;q<n;q+=1)for(p=0;p<m.length;p+=1)q<x[p].length&&(k[w]=x[p][q],w+=1);for(q=0;q<l;q+=1)for(p=0;p<m.length;p+=1)q<v[p].length&&(k[w]=v[p][q],w+=1);c=k}m=c;k=-1;n=f-1;l=7;x=0;v=z.getMaskFunction(h);for(p=f-1;0<p;p-=2)for(6==p&&--p;;){for(q=0;2>q;q+=1)null==b[n][p-q]&&(w=!1,x<m.length&&(w=1==(m[x]>>>l&1)),v(n,p-q)&&(w=!w),b[n][p-q]=w,--l,-1==l&&(x+=1,l=7));n+=k;if(0>n||f<=n){n-=k;k=-k;break}}},A=function(c,d){for(var a=-1;7>=a;a+=1)if(!(-1>=c+
a||f<=c+a))for(var e=-1;7>=e;e+=1)-1>=d+e||f<=d+e||(b[c+a][d+e]=0<=a&&6>=a&&(0==e||6==e)||0<=e&&6>=e&&(0==a||6==a)||2<=a&&4>=a&&2<=e&&4>=e?!0:!1)};e.addData=function(b){b=G(b);d.push(b);c=null};e.isDark=function(a,c){if(0>a||f<=a||0>c||f<=c)throw Error(a+","+c);return b[a][c]};e.getModuleCount=function(){return f};e.make=function(){for(var b=0,a=0,c=0;8>c;c+=1){l(!0,c);var d=z.getLostPoint(e);if(0==c||b>d)b=d,a=c}l(!1,a)};e.createTableTag=function(b,a){b=b||2;var c;c='<table style=" border-width: 0px; border-style: none;';
c+=" border-collapse: collapse;";c+=" padding: 0px; margin: "+("undefined"==typeof a?4*b:a)+"px;";c+='">';c+="<tbody>";for(var d=0;d<e.getModuleCount();d+=1){c+="<tr>";for(var f=0;f<e.getModuleCount();f+=1)c+='<td style="',c+=" border-width: 0px; border-style: none;",c+=" border-collapse: collapse;",c+=" padding: 0px; margin: 0px;",c+=" width: "+b+"px;",c+=" height: "+b+"px;",c+=" background-color: ",c+=e.isDark(d,f)?"#000000":"#ffffff",c+=";",c+='"/>';c+="</tr>"}c+="</tbody>";return c+="</table>"};
e.createImgTag=function(c,b){c=c||2;b="undefined"==typeof b?4*c:b;var a=e.getModuleCount()*c+2*b,d=b,f=a-b;return H(a,a,function(b,a){return d<=b&&b<f&&d<=a&&a<f?e.isDark(Math.floor((a-d)/c),Math.floor((b-d)/c))?0:1:1})};return e};B.stringToBytes=function(g){for(var h=[],a=0;a<g.length;a+=1){var b=g.charCodeAt(a);h.push(b&255)}return h};B.createStringToBytes=function(g,h){var a=function(){for(var b=I(g),a=function(){var c=b.read();if(-1==c)throw Error();return c},c=0,d={};;){var e=b.read();if(-1==
e)break;var l=a(),A=a(),D=a(),e=String.fromCharCode(e<<8|l);d[e]=A<<8|D;c+=1}if(c!=h)throw Error(c+" != "+h);return d}();return function(b){for(var f=[],c=0;c<b.length;c+=1){var d=b.charCodeAt(c);128>d?f.push(d):(d=a[b.charAt(c)],"number"==typeof d?(d&255)==d?f.push(d):(f.push(d>>>8),f.push(d&255)):f.push(63))}return f}};var t={L:1,M:0,Q:3,H:2},z=function(){var g=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],
[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],h={},a=function(b){for(var a=
0;0!=b;)a+=1,b>>>=1;return a};h.getBCHTypeInfo=function(b){for(var f=b<<10;0<=a(f)-a(1335);)f^=1335<<a(f)-a(1335);return(b<<10|f)^21522};h.getBCHTypeNumber=function(b){for(var f=b<<12;0<=a(f)-a(7973);)f^=7973<<a(f)-a(7973);return b<<12|f};h.getPatternPosition=function(b){return g[b-1]};h.getMaskFunction=function(b){switch(b){case 0:return function(b,c){return 0==(b+c)%2};case 1:return function(b,c){return 0==b%2};case 2:return function(b,c){return 0==c%3};case 3:return function(b,c){return 0==(b+
c)%3};case 4:return function(b,c){return 0==(Math.floor(b/2)+Math.floor(c/3))%2};case 5:return function(b,c){return 0==b*c%2+b*c%3};case 6:return function(b,c){return 0==(b*c%2+b*c%3)%2};case 7:return function(b,c){return 0==(b*c%3+(b+c)%2)%2};default:throw Error("bad maskPattern:"+b);}};h.getErrorCorrectPolynomial=function(b){for(var a=y([1],0),c=0;c<b;c+=1)a=a.multiply(y([1,r.gexp(c)],0));return a};h.getLengthInBits=function(b,a){if(1<=a&&10>a)switch(b){case 1:return 10;case 2:return 9;case 4:return 8;
case 8:return 8;default:throw Error("mode:"+b);}else if(27>a)switch(b){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw Error("mode:"+b);}else if(41>a)switch(b){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw Error("mode:"+b);}else throw Error("type:"+a);};h.getLostPoint=function(b){for(var a=b.getModuleCount(),c=0,d=0;d<a;d+=1)for(var e=0;e<a;e+=1){for(var l=0,g=b.isDark(d,e),h=-1;1>=h;h+=1)if(!(0>d+h||a<=d+h))for(var u=-1;1>=u;u+=
1)0>e+u||a<=e+u||0==h&&0==u||g!=b.isDark(d+h,e+u)||(l+=1);5<l&&(c+=3+l-5)}for(d=0;d<a-1;d+=1)for(e=0;e<a-1;e+=1)if(l=0,b.isDark(d,e)&&(l+=1),b.isDark(d+1,e)&&(l+=1),b.isDark(d,e+1)&&(l+=1),b.isDark(d+1,e+1)&&(l+=1),0==l||4==l)c+=3;for(d=0;d<a;d+=1)for(e=0;e<a-6;e+=1)b.isDark(d,e)&&!b.isDark(d,e+1)&&b.isDark(d,e+2)&&b.isDark(d,e+3)&&b.isDark(d,e+4)&&!b.isDark(d,e+5)&&b.isDark(d,e+6)&&(c+=40);for(e=0;e<a;e+=1)for(d=0;d<a-6;d+=1)b.isDark(d,e)&&!b.isDark(d+1,e)&&b.isDark(d+2,e)&&b.isDark(d+3,e)&&b.isDark(d+
4,e)&&!b.isDark(d+5,e)&&b.isDark(d+6,e)&&(c+=40);for(e=l=0;e<a;e+=1)for(d=0;d<a;d+=1)b.isDark(d,e)&&(l+=1);b=Math.abs(100*l/a/a-50)/5;return c+10*b};return h}(),r=function(){for(var g=Array(256),h=Array(256),a=0;8>a;a+=1)g[a]=1<<a;for(a=8;256>a;a+=1)g[a]=g[a-4]^g[a-5]^g[a-6]^g[a-8];for(a=0;255>a;a+=1)h[g[a]]=a;return{glog:function(b){if(1>b)throw Error("glog("+b+")");return h[b]},gexp:function(b){for(;0>b;)b+=255;for(;256<=b;)b-=255;return g[b]}}}(),E=function(){var g=[[1,26,19],[1,26,16],[1,26,13],
[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,
50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,
120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,
25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,
16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,
123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],h=function(b,c){var a={};a.totalCount=b;a.dataCount=c;return a},a={},b=function(a,b){switch(b){case t.L:return g[4*(a-1)+0];case t.M:return g[4*(a-1)+1];case t.Q:return g[4*(a-1)+2];case t.H:return g[4*
(a-1)+3]}};a.getRSBlocks=function(a,c){var d=b(a,c);if("undefined"==typeof d)throw Error("bad rs block @ typeNumber:"+a+"/errorCorrectLevel:"+c);for(var e=d.length/3,l=[],g=0;g<e;g+=1)for(var r=d[3*g+0],u=d[3*g+1],m=d[3*g+2],k=0;k<r;k+=1)l.push(h(u,m));return l};return a}(),F=function(){var g=[],h=0,a={getBuffer:function(){return g},getAt:function(a){return 1==(g[Math.floor(a/8)]>>>7-a%8&1)},put:function(b,f){for(var c=0;c<f;c+=1)a.putBit(1==(b>>>f-c-1&1))},getLengthInBits:function(){return h},putBit:function(a){var f=
Math.floor(h/8);g.length<=f&&g.push(0);a&&(g[f]|=128>>>h%8);h+=1}};return a},G=function(g){var h=B.stringToBytes(g);return{getMode:function(){return 4},getLength:function(a){return h.length},write:function(a){for(var b=0;b<h.length;b+=1)a.put(h[b],8)}}},C=function(){var g=[],h={writeByte:function(a){g.push(a&255)},writeShort:function(a){h.writeByte(a);h.writeByte(a>>>8)},writeBytes:function(a,b,f){b=b||0;f=f||a.length;for(var c=0;c<f;c+=1)h.writeByte(a[c+b])},writeString:function(a){for(var b=0;b<
a.length;b+=1)h.writeByte(a.charCodeAt(b))},toByteArray:function(){return g},toString:function(){var a;a="[";for(var b=0;b<g.length;b+=1)0<b&&(a+=","),a+=g[b];return a+"]"}};return h},J=function(){var g=0,h=0,a=0,b="",f={},c=function(a){if(!(0>a)){if(26>a)return 65+a;if(52>a)return 97+(a-26);if(62>a)return 48+(a-52);if(62==a)return 43;if(63==a)return 47}throw Error("n:"+a);};f.writeByte=function(d){g=g<<8|d&255;h+=8;for(a+=1;6<=h;)b+=String.fromCharCode(c(g>>>h-6&63)),h-=6};f.flush=function(){0<h&&
(b+=String.fromCharCode(c(g<<6-h&63)),h=g=0);if(0!=a%3)for(var d=3-a%3,e=0;e<d;e+=1)b+="="};f.toString=function(){return b};return f},I=function(g){var h=0,a=0,b=0,f=function(a){if(65<=a&&90>=a)return a-65;if(97<=a&&122>=a)return a-97+26;if(48<=a&&57>=a)return a-48+52;if(43==a)return 62;if(47==a)return 63;throw Error("c:"+a);};return{read:function(){for(;8>b;){if(h>=g.length){if(0==b)return-1;throw Error("unexpected end of file./"+b);}var c=g.charAt(h);h+=1;if("="==c)return b=0,-1;c.match(/^\s$/)||
(a=a<<6|f(c.charCodeAt(0)),b+=6)}c=a>>>b-8&255;b-=8;return c}}},K=function(g,h){var a=Array(g*h),b=function(a){var b=0,e=0;return{write:function(f,g){if(0!=f>>>g)throw Error("length over");for(;8<=b+g;)a.writeByte(255&(f<<b|e)),g-=8-b,f>>>=8-b,b=e=0;e|=f<<b;b+=g},flush:function(){0<b&&a.writeByte(e)}}},f=function(){var a={},b=0,e={add:function(f){if(e.contains(f))throw Error("dup key:"+f);a[f]=b;b+=1},size:function(){return b},indexOf:function(b){return a[b]},contains:function(b){return"undefined"!=
typeof a[b]}};return e};return{setPixel:function(b,d,e){a[d*g+b]=e},write:function(c){c.writeString("GIF87a");c.writeShort(g);c.writeShort(h);c.writeByte(128);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(0);c.writeByte(255);c.writeByte(255);c.writeByte(255);c.writeString(",");c.writeShort(0);c.writeShort(0);c.writeShort(g);c.writeShort(h);c.writeByte(0);var d;d=3;for(var e=f(),l=0;4>l;l+=1)e.add(String.fromCharCode(l));e.add(String.fromCharCode(4));e.add(String.fromCharCode(5));
var l=C(),r=b(l);r.write(4,d);for(var t=0,u=String.fromCharCode(a[t]),t=t+1;t<a.length;){var m=String.fromCharCode(a[t]),t=t+1;e.contains(u+m)?u+=m:(r.write(e.indexOf(u),d),4095>e.size()&&(e.size()==1<<d&&(d+=1),e.add(u+m)),u=m)}r.write(e.indexOf(u),d);r.write(5,d);r.flush();d=l.toByteArray();c.writeByte(2);for(e=0;255<d.length-e;)c.writeByte(255),c.writeBytes(d,e,255),e+=255;c.writeByte(d.length-e);c.writeBytes(d,e,d.length-e);c.writeByte(0);c.writeString(";")}}},H=function(g,h,a,b){for(var f=K(g,
h),c=0;c<h;c+=1)for(var d=0;d<g;d+=1)f.setPixel(d,c,a(d,c));a=C();f.write(a);f=J();a=a.toByteArray();for(c=0;c<a.length;c+=1)f.writeByte(a[c]);f.flush();a='<img src="';a+="data:image/gif;base64,";a+=f;a+='"';a+=' width="';a+=g;a+='"';a+=' height="';a+=h;a+='"';b&&(a+=' alt="',a+=b,a+='"');return a+="/>"};return B}();(function(y){"function"===typeof define&&define.amd?define([],y):"object"===typeof exports&&(module.exports=y())})(function(){return qrcode});